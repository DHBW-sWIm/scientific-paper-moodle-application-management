(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d3f5"],{f74b:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h2",[t._v("Manager für angelegte Arbeiten")]),s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" Wissenschaftliche Betreuer, sowie unternehmensinterne Ansprechpartner können den Studenten im jeweiligen Assignment zugeordnet werden. ")]),t._l(t.courses,(function(e){return s("table",{key:e.id,staticClass:"table"},[t._m(0,!0),s("tbody",t._l(e.assignments,(function(n){return s("tr",{key:n.id},[s("td",[t._v(t._s(n.id))]),s("td",[t._v(t._s(n.cmid))]),s("td",[t._v(t._s(e.fullname))]),s("td",[t._v(t._s(n.name))]),s("td",[t._v(t._s(n.duedate))]),s("td",[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.showStudents(n.course)}}},[t._v(" Studenten ")])])])})),0)])})),s("div",{ref:"modalStudents",staticClass:"modal fade",attrs:{id:"modalStudents",tabindex:"-1",role:"dialog","aria-labelledby":"modalStudents","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container"},[s("table",{staticClass:"table table-responsive"},[t._m(2),s("tbody",t._l(t.students,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.firstname)+" "+t._s(e.lastname))]),s("td"),s("div",{staticClass:"form-group"},[s("select",{staticClass:"form-control form-control-sm mt-2",attrs:{name:"supervisors",id:"supervisors"},on:{change:function(t){e.changed=!0}}},[s("option",{attrs:{value:"NULL"}}),t._l(t.supervisors,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.firstname)+" "+t._s(e.lastname)+" ")])}))],2)]),s("td",[t._v(t._s())]),s("td",[t._v(t._s(e.changed?"Geändert":""))])])})),0)])])]),t._m(3)])])])],2)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v(" Assignment ID ")]),s("th",{attrs:{scope:"col"}},[t._v(" Assignment CMID ")]),s("th",{attrs:{scope:"col"}},[t._v(" Kurs ")]),s("th",{attrs:{scope:"col"}},[t._v(" Assignment Name ")]),s("th",{attrs:{scope:"col"}},[t._v(" Abgabe ")]),s("th",{attrs:{scope:"col"}},[t._v(" Studenten ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v(" Diesem Assignment zugewiesene Studenten ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v(" Student ID ")]),s("th",{attrs:{scope:"col"}},[t._v(" Student Name ")]),s("th",{attrs:{scope:"col"}},[t._v(" Aktueller Wiss. Betreuer ")]),s("th",{attrs:{scope:"col"}},[t._v(" Neuer Wiss. Betreuer ")]),s("th",{attrs:{scope:"col"}},[t._v(" Unternehmensbetreuer ")]),s("th",{attrs:{scope:"col"}},[t._v(" Geändert ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Änderungen sichern ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Schließen ")])])}],r=s("bc3a"),o=s.n(r),i=s("1157"),c=s.n(i),l={name:"About",components:{},data:function(){return{students:[],showModal:!1,supervisors:[]}},props:{courses:{type:Array,default:function(){return[]}},token:{type:String,default:""}},beforeCreate:function(){},mounted:function(){this.getSupervisors()},methods:{showStudents:function(t){var e=this;this.$emit("loading","10%",!1),this.students=[];var s={headers:{"Content-Type":"application/json;charset=UTF-8"}};o.a.get((Object({NODE_ENV:"production",VUE_APP_CLI_UI_URL:"",BASE_URL:"/mod/spam/static/"}).VUE_APP_MOODEL_URL||"")+"/webservice/rest/server.php",{params:{wstoken:this.token,wsfunction:"core_enrol_get_enrolled_users",moodlewsrestformat:"json",courseid:t}},s).then((function(t){t.exception||(e.students=e.filterStudents(t.data),console.log(e.students),c()("#modalStudents").modal("show"),e.$emit("loading","100%",!0))})).catch((function(t){console.log(t),e.$emit("loading","100%",!0),e.$emit("ajaxerror")}))},getSupervisors:function(){var t=this;this.$emit("loading","10%",!1),this.supervisors=[];var e={headers:{"Content-Type":"application/json;charset=UTF-8"}};o.a.get((Object({NODE_ENV:"production",VUE_APP_CLI_UI_URL:"",BASE_URL:"/mod/spam/static/"}).VUE_APP_MOODEL_URL||"")+"/webservice/rest/server.php",{params:{wstoken:this.token,wsfunction:"local_spsupman_get_supervisors",moodlewsrestformat:"json"}},e).then((function(e){e.data.exception?(t.$emit("loading","100%",!0),t.$emit("ajaxerror")):(t.supervisors=e.data,t.$emit("loading","100%",!0))})).catch((function(e){console.log(e),t.$emit("loading","100%",!0),t.$emit("ajaxerror")}))},filterStudents:function(t){for(var e=[],s=0;s<t.length;s++){for(var n=!1,a=0;a<t[s].roles.length;a++)5==t[s].roles[a].roleid&&(n=!0);n&&(t[s].changed=!1,e.push(t[s]))}return e}}},d=l,u=s("2877"),_=Object(u["a"])(d,n,a,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d22d3f5.9b5f0d91.js.map