{"version":3,"sources":["webpack:///./src/views/Manage.vue?bae2","webpack:///src/views/Manage.vue","webpack:///./src/views/Manage.vue?53e0","webpack:///./src/views/Manage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","_l","course","key","id","_m","assignment","_s","cmid","fullname","name","duedate","on","$event","showStudents","ref","student","firstname","lastname","directives","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","changed","supervisor","domProps","saveData","staticRenderFns","components","data","students","showModal","supervisors","courses","selectedAssignment","props","token","type","String","default","beforeCreate","mounted","getSupervisors","getCourses","created","methods","changedStudents","i","push","studentid","supervisorid","newSupervisor","assignid","jsonData","changes","variables","dbchanges","JSON","stringify","$emit","aid","axiosConfig","headers","filterStudents","filteredStudents","isStudent","allStudents","roles","j","roleid","component"],"mappings":"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","file":"js/chunk-2d22d3f5.277704d8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h2',[_vm._v(\"Manager für angelegte Arbeiten\")]),_c('div',{staticClass:\"alert alert-success\",attrs:{\"role\":\"alert\"}},[_vm._v(\"Wissenschaftliche Betreuer, sowie unternehmensinterne Ansprechpartner können den Studenten im jeweiligen Assignment zugeordnet werden.\")]),_vm._l((_vm.courses),function(course){return _c('table',{key:course.id,staticClass:\"table\"},[_vm._m(0,true),_c('tbody',_vm._l((course.assignments),function(assignment){return _c('tr',{key:assignment.id},[_c('td',[_vm._v(_vm._s(assignment.id))]),_c('td',[_vm._v(_vm._s(assignment.cmid))]),_c('td',[_vm._v(_vm._s(course.fullname))]),_c('td',[_vm._v(_vm._s(assignment.name))]),_c('td',[_vm._v(_vm._s(assignment.duedate))]),_c('td',[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.showStudents(assignment)}}},[_vm._v(\"Studenten\")])])])}),0)])}),_c('div',{ref:\"modalStudents\",staticClass:\"modal fade\",attrs:{\"id\":\"modalStudents\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"modalStudents\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(1),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container\"},[_c('table',{staticClass:\"table table-responsive\"},[_vm._m(2),_c('tbody',_vm._l((_vm.students),function(student){return _c('tr',{key:student.id},[_c('td',[_vm._v(_vm._s(student.id))]),_c('td',[_vm._v(_vm._s(student.firstname)+\" \"+_vm._s(student.lastname))]),_c('td'),_c('div',{staticClass:\"form-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(student.newSupervisor),expression:\"student.newSupervisor\"}],staticClass:\"form-control form-control-sm mt-2\",attrs:{\"name\":\"supervisors\",\"id\":\"supervisors\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(student, \"newSupervisor\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){student.changed=true}]}},[_c('option',{attrs:{\"value\":\"NULL\"}}),_vm._l((_vm.supervisors),function(supervisor){return _c('option',{key:supervisor.id,domProps:{\"value\":supervisor.id}},[_vm._v(_vm._s(supervisor.firstname)+\" \"+_vm._s(supervisor.lastname))])})],2)]),_c('td',[_vm._v(_vm._s())]),_c('td',[_vm._v(_vm._s(((student.changed) ? 'Geändert' : '')))])])}),0)])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":_vm.saveData}},[_vm._v(\"Änderungen sichern\")]),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Schließen\")])])])])])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Assignment ID\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Assignment CMID\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Kurs\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Assignment Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Abgabe\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Studenten\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Diesem Assignment zugewiesene Studenten\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Student ID\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Student Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Aktueller Wiss. Betreuer\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Neuer Wiss. Betreuer\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Unternehmensbetreuer\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Geändert\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h2>Manager für angelegte Arbeiten</h2>\r\n    <div\r\n      class=\"alert alert-success\"\r\n      role=\"alert\"\r\n    >Wissenschaftliche Betreuer, sowie unternehmensinterne Ansprechpartner können den Studenten im jeweiligen Assignment zugeordnet werden.</div>\r\n    <table class=\"table\" v-for=\"course in courses\" :key=\"course.id\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Assignment ID</th>\r\n          <th scope=\"col\">Assignment CMID</th>\r\n          <th scope=\"col\">Kurs</th>\r\n          <th scope=\"col\">Assignment Name</th>\r\n          <th scope=\"col\">Abgabe</th>\r\n          <th scope=\"col\">Studenten</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"assignment in course.assignments\" :key=\"assignment.id\">\r\n          <td>{{ assignment.id }}</td>\r\n          <td>{{ assignment.cmid }}</td>\r\n          <td>{{ course.fullname }}</td>\r\n          <td>{{ assignment.name }}</td>\r\n          <td>{{ assignment.duedate }}</td>\r\n          <td>\r\n            <button\r\n              class=\"btn btn-primary\"\r\n              type=\"button\"\r\n              @click=\"showStudents(assignment)\"\r\n            >Studenten</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"modalStudents\"\r\n      ref=\"modalStudents\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"modalStudents\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">Diesem Assignment zugewiesene Studenten</h5>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"container\">\r\n              <table class=\"table table-responsive\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">Student ID</th>\r\n                    <th scope=\"col\">Student Name</th>\r\n                    <th scope=\"col\">Aktueller Wiss. Betreuer</th>\r\n                    <th scope=\"col\">Neuer Wiss. Betreuer</th>\r\n                    <th scope=\"col\">Unternehmensbetreuer</th>\r\n                    <th scope=\"col\">Geändert</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"student in students\" :key=\"student.id\">\r\n                    <td>{{ student.id }}</td>\r\n                    <td>{{ student.firstname }} {{ student.lastname }}</td>\r\n                    <td />\r\n                    <div class=\"form-group\">\r\n                      <select\r\n                        name=\"supervisors\"\r\n                        id=\"supervisors\"\r\n                        class=\"form-control form-control-sm mt-2\"\r\n                        @change=\"student.changed=true\"\r\n                        v-model=\"student.newSupervisor\"\r\n                      >\r\n                        <option value=\"NULL\" />\r\n                        <option\r\n                          v-for=\"supervisor in supervisors\"\r\n                          :key=\"supervisor.id\"\r\n                          :value=\"supervisor.id\"\r\n\r\n                        >{{ supervisor.firstname }} {{ supervisor.lastname }}</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <td>{{ }}</td>\r\n                    <td>{{ ((student.changed) ? 'Geändert' : '') }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"saveData\"\r\n            >Änderungen sichern</button>\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Schließen</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport $ from \"jquery\";\r\nexport default {\r\n  name: \"About\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      students: [],\r\n      showModal: false,\r\n      supervisors: [],\r\n      courses: [],\r\n      selectedAssignment: \"\",\r\n    };\r\n  },\r\n  props: {\r\n    token: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  beforeCreate: function() {},\r\n  mounted() {\r\n    this.getSupervisors();\r\n    this.getCourses();\r\n  },\r\n  created() {},\r\n  methods: {\r\n    saveData() {\r\n      var changedStudents = [];\r\n      for (let i = 0; i < this.students.length; i++) {\r\n        if (this.students[i].changed) {\r\n          changedStudents.push({\r\n            studentid: this.students[i].id,\r\n            supervisorid: this.students[i].newSupervisor,\r\n            assignid: this.selectedAssignment\r\n          });\r\n        }\r\n      }\r\n      var jsonData = {\r\n        changes: changedStudents\r\n      };\r\n\r\n\r\n      var data = {\r\n        variables: {\r\n          dbchanges:{\r\n            value: JSON.stringify(jsonData),\r\n            type: \"String\"\r\n          }\r\n        }\r\n      };\r\n      this.$emit(\"loading\", \"10%\", false);\r\n      axios\r\n        .post(\r\n          (process.env.VUE_APP_CAMUNDA_URL || \"https://camunda.scientific-paper.swimdhbw.de/\") +\r\n            \"engine-rest/process-definition/key/application_for_paper/start\",\r\n          data, \r\n          {\r\n            headers: {\r\n              \"Content-type\": \"application/json\"\r\n            }\r\n          }\r\n        )\r\n        .then(response => {\r\n          this.$emit(\"loading\", \"100%\", true);// eslint-disable-line\r\n          console.log(response);// eslint-disable-line\r\n        });\r\n    },\r\n    showStudents(assignment) {\r\n      var aid = assignment.course;\r\n      this.selectedAssignment = assignment.id;\r\n      this.$emit(\"loading\", \"10%\", false);\r\n      this.students = [];\r\n      var axiosConfig = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\"\r\n        }\r\n      };\r\n      axios\r\n        .get(\r\n          (process.env.VUE_APP_MOODEL_URL || \"\") +\r\n            \"/webservice/rest/server.php\",\r\n          {\r\n            params: {\r\n              wstoken: this.token,\r\n              wsfunction: \"core_enrol_get_enrolled_users\",\r\n              moodlewsrestformat: \"json\",\r\n              courseid: aid\r\n            }\r\n          },\r\n          axiosConfig\r\n        )\r\n        .then(response => {\r\n          if (!response.exception) {\r\n            this.students = this.filterStudents(response.data);\r\n            console.log(this.students); // eslint-disable-line\r\n            $(\"#modalStudents\").modal(\"show\");\r\n            this.$emit(\"loading\", \"100%\", true);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error); // eslint-disable-line\r\n          this.$emit(\"loading\", \"100%\", true);\r\n          this.$emit(\"ajaxerror\");\r\n        });\r\n    },\r\n    getSupervisors: function() {\r\n      this.$emit(\"loading\", \"10%\", false);\r\n      this.supervisors = [];\r\n      var axiosConfig = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\"\r\n        }\r\n      };\r\n      axios\r\n        .get(\r\n          (process.env.VUE_APP_MOODEL_URL || \"\") +\r\n            \"/webservice/rest/server.php\",\r\n          {\r\n            params: {\r\n              wstoken: this.token,\r\n              wsfunction: \"local_spsupman_get_supervisors\",\r\n              moodlewsrestformat: \"json\"\r\n            }\r\n          },\r\n          axiosConfig\r\n        )\r\n        .then(response => {\r\n          if (!response.data.exception) {\r\n            this.supervisors = response.data;\r\n            this.$emit(\"loading\", \"100%\", true);\r\n          } else {\r\n            this.$emit(\"loading\", \"100%\", true);\r\n            this.$emit(\"ajaxerror\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error); // eslint-disable-line\r\n          this.$emit(\"loading\", \"100%\", true);\r\n          this.$emit(\"ajaxerror\");\r\n        });\r\n    },\r\n    filterStudents(allStudents) {\r\n      var filteredStudents = [];\r\n      for (let i = 0; i < allStudents.length; i++) {\r\n        var isStudent = false;\r\n        for (let j = 0; j < allStudents[i].roles.length; j++) {\r\n          if (allStudents[i].roles[j].roleid == 5) {\r\n            isStudent = true;\r\n          }\r\n        }\r\n        if (isStudent) {\r\n          allStudents[i].changed = false;\r\n          allStudents[i].newSupervisor = \"\";\r\n          filteredStudents.push(allStudents[i]);\r\n        }\r\n      }\r\n      return filteredStudents;\r\n    },\r\n    getCourses: function() {\r\n      this.$emit(\"loading\", \"10%\", false);\r\n      var axiosConfig = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\"\r\n        }\r\n      };\r\n      axios\r\n        .get(\r\n          (process.env.VUE_APP_MOODEL_URL || \"\") +\r\n            \"/webservice/rest/server.php\",\r\n          {\r\n            params: {\r\n              wstoken: this.token,\r\n              wsfunction: \"mod_assign_get_assignments\",\r\n              moodlewsrestformat: \"json\"\r\n            }\r\n          },\r\n          axiosConfig\r\n        )\r\n        .then(response => {\r\n          this.$emit(\"loading\", \"100%\", true);\r\n\r\n          if (!response.exception) {\r\n            this.courses = response.data.courses;\r\n            console.log(this.courses); // eslint-disable-line\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$emit(\"loading\", \"100%\", true);\r\n          this.$emit(\"ajaxerror\");\r\n          console.log(error); // eslint-disable-line\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manage.vue?vue&type=template&id=0380f140&\"\nimport script from \"./Manage.vue?vue&type=script&lang=js&\"\nexport * from \"./Manage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}